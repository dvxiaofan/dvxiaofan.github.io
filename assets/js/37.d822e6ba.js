(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{189:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h2",{attrs:{id:"react中的setstate执行机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react中的setstate执行机制","aria-hidden":"true"}},[t._v("#")]),t._v(" React中的setState执行机制")]),t._v(" "),a("h3",{attrs:{id:"setstate执行机制是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setstate执行机制是什么","aria-hidden":"true"}},[t._v("#")]),t._v(" setState执行机制是什么")]),t._v(" "),a("p",[t._v("React中的一个组件的显示状态可以有数据状态和外部参数所决定，而数据状态就是state，当需要修改里面的值的状态时就需要调用setState来改变，从而达到更新组件内部数据的目的。")]),t._v(" "),a("h3",{attrs:{id:"setstate更新类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setstate更新类型","aria-hidden":"true"}},[t._v("#")]),t._v(" setState更新类型")]),t._v(" "),a("p",[t._v("使用setState更新数据的时候，更新类型分为：")]),t._v(" "),a("ul",[a("li",[t._v("异步更新")]),t._v(" "),a("li",[t._v("同步更新")])]),t._v(" "),a("h4",{attrs:{id:"异步更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 异步更新")]),t._v(" "),a("p",[t._v("执行之后并不会立即得到更新后的值，如果需要立刻获得更新后的值，需要在setState中第二个参数的回调用获取")]),t._v(" "),a("h4",{attrs:{id:"同步执行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同步执行","aria-hidden":"true"}},[t._v("#")]),t._v(" 同步执行")]),t._v(" "),a("p",[t._v("在setTimeout事件或者原生DOM事件中，setState为同步执行")]),t._v(" "),a("h4",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("ul",[a("li",[t._v("在组件声明周期或者React合成事件中，setState为异步执行")]),t._v(" "),a("li",[t._v("在setTimeout或者原生DOM事件中， setState为同步执行")])]),t._v(" "),a("h3",{attrs:{id:"批量更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#批量更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 批量更新")]),t._v(" "),a("p",[t._v("如果顺序批量执行setState来更新数据其结果等于只会 执行最后一次的操作， 前面的都会被覆盖。")]),t._v(" "),a("p",[t._v("如果下一个state需要依赖前一个state， 推荐给setState第一个参数传入一个function来处理")]),t._v(" "),a("p",[t._v("而在setTimeout或者原生DOM事件中，由于是同步执行多次setState操作， 所以不会进行覆盖现象")])])}],!1,null,null,null);e.default=r.exports}}]);